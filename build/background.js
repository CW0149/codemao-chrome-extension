(()=>{"use strict";const a=async(a,t)=>{const e=await chrome.tabs.create({url:t,active:!0});await(async(a,t)=>chrome.scripting.executeScript({target:{tabId:a},args:[t],func:a=>alert(a)}))(e.id,a)};chrome.runtime.onMessage.addListener((async(e,c,n)=>{const{type:s,message:i}=e;switch(s){case"alertInNewTab":await a(i,e.url);break;case"handleLogin":await t(i,n)}}));const t=async(t,e)=>{const{festivalLoggedIn:c,internalAccountLoggedIn:n}=t;return c&&n?e(!0):(n||await a("请先登录编程猫内部系统，之后再重新点击“打开班期工具”按钮","https://internal-account.codemao.cn/"),c||await a("请先登录年课系统，之后再重新点击“打开班期工具”按钮","https://festival.codemao.cn/h5/yybAdmin/"),e(!1))}})();